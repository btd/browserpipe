!function(t,o,i,n){var d="http://localhost:4000";if(d!==i.protocol+"//"+i.host){var r=o.createElement("div"),l=n.outerHTML;setTimeout(function(){function t(e){return encodeURIComponent(e).replace(/%20/g,"+")}function s(e,r){var s=new XMLHttpRequest;s.open("POST",d+"/bookmarklet/add",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.withCredentials=!0,s.onreadystatechange=function(){r&&4==s.readyState&&r(JSON.parse(s.responseText)._id)},s.send("url="+t(i.href)+"&parent="+t(e)+"&title="+t(o.title)+"&width="+t(n.clientWidth)+"&height="+t(n.clientHeight)+"&html="+t(l)+"&charset="+t(o.characterSet)+"&v=1.1")}function a(e){r.innerHTML="<div style='position:absolute;margin:auto;top:0;right:0;bottom:0;text-align:center;width:100%;height:48px;z-index:-100;font-size: 24px;font-weight: bold;color: #ff6d16;'>"+e+"</div>"}function h(){a("Added!"),setTimeout(function(){o.body.removeChild(r),r=null},2e3)}function c(e){if(e.origin===d)if("save_"===e.data.substring(0,5)){var t=o.getElementById(y);t&&(o.body.removeChild(t),t=null),a("Adding..."),s(e.data.substring(5),h)}else switch(e.data){case"destroy":destroy()}}var y="BPIPE_bookmarklet_iframe",f=o.getElementById(y);if(!f){var p=o.createElement("iframe");p.id=y,p.src=d+"/bookmarklet/archive",a("<img src='http://localhost:4000/public/img/loader-768353505d65f557bbc39b14d763fad1.gif'/>"),r.style.backgroundColor="#FFF",r.style.position=p.style.position="fixed",r.style.top=p.style.top="0",r.style.right=p.style.right="0",r.style.height=p.style.height="100%",r.style.width=p.style.width="269px",r.style.zIndex=p.style.zIndex="1999999999",r.style.borderLeft=p.style.borderLeft="6px solid #ff6d16",r.style.borderRight=p.style.borderRight=r.style.borderTop=p.style.borderTop=r.style.borderBottom=p.style.borderBottom="none",p.style.visibility="hidden",p.onload=function(){this.style.visibility="visible"},o.body.appendChild(r),o.body.appendChild(p);var b=r.addEventListener?"addEventListener":"attachEvent",u="attachEvent"==b?"onmessage":"message";e[b](u,c,!1)}},1)}}(window,document,location,documentElement);