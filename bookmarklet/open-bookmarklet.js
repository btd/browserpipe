!function(t,o,i,n){var d="http://localhost:4000";if(d!==i.protocol+"//"+i.host){var l=o.createElement("div"),r=n.outerHTML;setTimeout(function(){function s(e){return encodeURIComponent(e).replace(/%20/g,"+")}function a(e){var t=new XMLHttpRequest;t.open("POST",d+"/bookmarklet/add",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.withCredentials=!0,t.onreadystatechange=function(){e&&4==t.readyState&&e(JSON.parse(t.responseText)._id)},t.send("url="+s(i.href)+"&title="+s(o.title)+"&width="+s(n.clientWidth)+"&height="+s(n.clientHeight)+"&html="+s(r)+"&charset="+s(o.characterSet)+"&v=1.1")}function c(e){l.innerHTML="<div style='position:absolute;margin:auto;top:0;right:0;bottom:0;text-align:center;width:100%;height:48px;z-index:-100;font-size: 24px;font-weight: bold;color: #ff6d16;'>"+e+"</div>"}function h(e){c("Redirecting..."),t.location=d+"/item/"+e}function y(e){if(e.origin===d)switch(e.data){case"save":var t=o.getElementById(p);t&&(o.body.removeChild(t),t=null),c("Adding..."),a(h)}}var p="BPIPE_bookmarklet_iframe",f=o.getElementById(p);if(!f){var m=o.createElement("iframe");m.id=p,m.src=d+"/bookmarklet/open",c("<img src='http://localhost:4000/public/img/loader-768353505d65f557bbc39b14d763fad1.gif'/>"),l.style.backgroundColor="#FFF",l.style.position=m.style.position="fixed",l.style.top=m.style.top="0",l.style.right=m.style.right="0",l.style.height=m.style.height="100%",l.style.width=m.style.width="269px",l.style.zIndex=m.style.zIndex="1999999999",l.style.borderLeft=m.style.borderLeft="6px solid #ff6d16",l.style.borderRight=m.style.borderRight=l.style.borderTop=m.style.borderTop=l.style.borderBottom=m.style.borderBottom="none",m.style.visibility="hidden",m.onload=function(){this.style.visibility="visible"},o.body.appendChild(l),o.body.appendChild(m);var g=m.addEventListener?"addEventListener":"attachEvent",b="attachEvent"==g?"onmessage":"message";e[g](b,y,!1)}},1)}}(window,document,location,document.documentElement);