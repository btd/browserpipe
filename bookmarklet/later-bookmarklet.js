!function(t,o,i,n){var d="http://localhost:4000";if(d!==i.protocol+"//"+i.host){var l=o.createElement("div"),r=n.outerHTML;setTimeout(function(){function t(e){return encodeURIComponent(e).replace(/%20/g,"+")}function s(e){var l=new XMLHttpRequest;l.open("POST",d+"/bookmarklet/add",!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.withCredentials=!0,l.onreadystatechange=function(){e&&4==l.readyState&&e(JSON.parse(l.responseText)._id)},l.send("url="+t(i.href)+"&title="+t(o.title)+"&width="+t(n.clientWidth)+"&height="+t(n.clientHeight)+"&html="+t(r)+"&charset="+t(o.characterSet)+"&v=1.1")}function a(e){l.innerHTML="<div style='position:absolute;margin:auto;top:0;right:0;bottom:0;text-align:center;width:100%;height:48px;z-index:-100;font-size: 24px;font-weight: bold;color: #ff6d16;'>"+e+"</div>"}function c(){a("Added!"),setTimeout(function(){o.body.removeChild(l),l=null},2e3)}function h(e){if(e.origin===d)switch(e.data){case"save":var t=o.getElementById(y);t&&(o.body.removeChild(t),t=null),a("Adding..."),s(c)}}var y="BPIPE_bookmarklet_iframe",p=o.getElementById(y);if(!p){var f=o.createElement("iframe");f.id=y,f.src=d+"/bookmarklet/open",a("<img src='http://localhost:4000/public/img/loader-768353505d65f557bbc39b14d763fad1.gif'/>"),l.style.backgroundColor="#FFF",l.style.position=f.style.position="fixed",l.style.top=f.style.top="0",l.style.right=f.style.right="0",l.style.height=f.style.height="100%",l.style.width=f.style.width="269px",l.style.zIndex=f.style.zIndex="1999999999",l.style.borderLeft=f.style.borderLeft="6px solid #ff6d16",l.style.borderRight=f.style.borderRight=l.style.borderTop=f.style.borderTop=l.style.borderBottom=f.style.borderBottom="none",f.style.visibility="hidden",f.onload=function(){this.style.visibility="visible"},o.body.appendChild(l),o.body.appendChild(f);var m=l.addEventListener?"addEventListener":"attachEvent",u="attachEvent"==m?"onmessage":"message";e[m](u,h,!1)}},1)}}(window,document,location,document.documentElement);