<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>EverBookmark</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet/less" type="text/css" href="/css/oldless/styles.less">
    <script src="/css/oldless/less-1.3.0.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/libs/jquery/jquery-1.8.0.min.js"><\/script>')</script>
    <script src="/js/libs/jquery.tinyscrollbar/jquery.tinyscrollbar.js" type="text/javascript"></script>
    <!--<script data-main="js/main" src="js/libs/require/require.js"></script>
    <script type="text/javascript">
        // fake jQuery - before Modernizr decide what to load - Zepto or jQuery
        var docready=[],jQuery=function(){return{ready:function(fn){docready.push(fn)}}};
    </script>-->
</head>
<body>
<nav id="nav-top">
    <div class="logo">EverBookmark</div>
    <div class="header-btns"><a id="btn-my-account" class="button black" href="#">My Account</a></div>
</nav>
<div id="main-container" class="container">
    <div class="wrapper">
        <div id="block-my-account" class="block">
            <div>
                <a id="btn-close-my-account" href="#">Back</a>
                <br/><br/><br/>
                <h3>Jorge Olmos at 56 years old</h3>
                <img src="http://www.all2need.com/wp-content/uploads/2012/02/Crazy-Face.jpg" style="width: 80px;height:56px;"/>
            </div>
        </div>
        <div id="block-home" class="block active">
            <div id="container-connector"></div>
            <div id="cont-left">
                    <div><a id="btn-add-folder" href="#">Add</a></div>
                    <div class="container">
                        <div id="cont-left-folders" class="wrapper">
                        <div id="block-main-folder" class="block active scrollbar_cont">
                            <div>
                                <div class="scrollbar left"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                                <div class="viewport">
                                    <ul class="overview">
                                        <li class="sel"><a class="folder" id="home-link" href="#">Uncategorized</a></li>
                                        <li><a class="folder" data-id="tools" href="#tools">Tools</a></li>
                                        <li><a class="folder" data-id="development" href="#development">Development</a></li>
                                        <li><a class="folder" href="#">A long title to test what happens</a></li>
                                        <li><a class="folder" href="#">Design</a></li>
                                        <li><a class="folder" href="#">Books</a></li>
                                        <li><a class="folder" href="#">Papers</a></li>
                                        <li><a class="folder" href="#">Design</a></li>
                                        <li><a class="folder" href="#">Books</a></li>
                                        <li><a class="folder" href="#">Papers</a></li>
                                        <li><a class="folder" href="#">All</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div id="tools" class="block scrollbar_cont">
                            <div>
                                <div class="scrollbar left"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                                <div class="viewport">
                                    <ul class="overview">
                                        <li><a class="folder" data-id="block-main-folder" href="#block-main-folder">...</a></li>
                                        <li><a class="folder" data-id="cines" href="#cines">Cines</a></li>
                                        <li><a class="folder" href="#">Restaurants</a></li>
                                        <li><a class="folder" href="#">Hotels</a></li>
                                        <li><a class="folder" href="#">Gas Stations</a></li>
                                        <li><a class="folder" href="#">Restaurants</a></li>
                                        <li><a class="folder" href="#">Hotels</a></li>
                                        <li><a class="folder" href="#">Gas Stations</a></li>
                                        <li><a class="folder" href="#">Restaurants</a></li>
                                        <li><a class="folder" href="#">Hotels</a></li>
                                        <li><a class="folder" href="#">Gas Stations</a></li>
                                    </ul>
                                </div>
                             </div>
                        </div>
                        <div id="development" class="block scrollbar_cont">
                            <div>
                                <div class="scrollbar left"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                                <div class="viewport">
                                    <ul class="overview">
                                        <li><a class="folder" data-id="block-main-folder" href="#block-main-folder">...</a></li>
                                        <li><a class="folder" data-id="vim" href="#vim">Vim</a></li>
                                        <li><a class="folder" href="#">Adobe</a></li>
                                        <li><a class="folder" href="#">FTP</a></li>
                                        <li><a class="folder" href="#">Putty</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div id="cines" class="block scrollbar_cont">
                            <div>
                                <div class="scrollbar left"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                                <div class="viewport">
                                    <ul class="overview">
                                        <li><a class="folder" data-id="tools" href="#">...</a></li>
                                        <li><a class="folder" href="#">CineMark</a></li>
                                        <li><a class="folder" href="#">My Cine</a></li>
                                        <li><a class="folder" href="#">Treassure</a></li>
                                        <li><a class="folder" href="#">Sata Fe</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div id="vim" class="block scrollbar_cont">
                            <div>
                                <div class="scrollbar left"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                                <div class="viewport">
                                    <ul class="overview">
                                        <li><a class="folder" data-id="development" href="#">...</a></li>
                                        <li><a class="folder" href="#">Test</a></li>
                                        <li><a class="folder" href="#">Mouse</a></li>
                                        <li><a class="folder" href="#">One More</a></li>
                                        <li><a class="folder" href="#">Peter</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div style="margin:8px 0 0 50px;"><a id="btn-test" href="#">Test</a></div>
            </div>
            <div id="block-home-container" class="container">
                <div class="wrapper">
                    <div id="block-add-folder" class="block">
                        <div>
                            <a id="btn-close-block-add-folder" href="#">Back</a>
                            <br/><br/><br/>
                            <h3>Add folder</h3>
                            <input type="text"/>
                        </div>
                    </div>
                    <div id="block-bookmarks" class="block active scrollbar_cont">
                        <div class="scrollbar right"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
                        <div class="viewport">
                            <div class="overview">
                                <p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/><p>htt://everbookmark.com</p><br/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="block-test" class="block" style="text-align:center;margin-top:50px;">
        <div>
            <a id="btn-close-block-test" href="#">Back</a>
            <br/><br/><br/>
            <h3>test</h3>
            <h3>test</h3>
            <h3>test</h3>
        </div>
    </div>
    </div>
</div>
<script type="text/javascript">
    //<![CDATA[
    var currScreen = $("#block-home");
    $(document).ready(function() {
        calculateHeights();
        $(".scrollbar_cont").tinyscrollbar();
        window.onresize = function(event) {
            calculateHeights();
        };
        $(".scrollbar_cont").hover(function() {
            $(".track", $(this)).fadeIn();
        }, function(){
            $(".track", $(this)).stop().fadeOut();
        });
        $("#btn-add-folder").click(function() { switchScreens($("#block-bookmarks"), $("#block-add-folder"), DIRECTION.HORIZONTAL); });
        $("#btn-close-block-add-folder").click(function() { switchScreens($("#block-add-folder"), $("#block-bookmarks"), DIRECTION.HORIZONTAL); });
        $("#btn-test").click(function() { switchScreens($("#block-home"), $("#block-test"), DIRECTION.HORIZONTAL); currScreen = $("#block-test");  });
        $("#btn-close-block-test").click(function() { switchScreens($("#block-test"), $("#block-home"), DIRECTION.HORIZONTAL); currScreen = $("#block-home");  });
        $("#btn-my-account").click(function() { switchScreens(currScreen, $("#block-my-account"), DIRECTION.VERTICAL); });
        $("#btn-close-my-account").click(function() { switchScreens($("#block-my-account"), currScreen, DIRECTION.VERTICAL); });

        $(".folder").click(function() {
            var blockId = $(this).data("id");
            if(blockId != null)
                switchScreens($(this).parents(".block:first"), $("#" + blockId), DIRECTION.HORIZONTAL);
        });
        $(".block").not(".active").hide();
    });
    function calculateHeights(){
        var wheight = $(window).height();
        var wwidth = $(window).width();
        $("#main-container > .wrapper").height(wheight - 30).width(wwidth);
        $("#cont-left").height(wheight - 80 );
        $("#cont-left > .container").height(wheight - 120).width(240);
        $("#cont-left-folders .block .viewport").each(function(index) {$(this).height(wheight - 120);});
        //$("#block-home-container").height(wheight);
        $("#block-bookmarks .viewport").height(wheight - 58);
        $(".scrollbar_cont").tinyscrollbar();
    }

    var DIRECTION = {
        HORIZONTAL : 0,
        VERTICAL : 1
    }

    function switchScreens($from, $to, direction){
        $wrapper = $from.parents(".wrapper:first");
        if($from.length > 0 && $wrapper.length > 0 && $to.length > 0 && !$to.hasClass("active")){
           var childrens = $wrapper.children(".block");
           var ix_from = childrens.index($from);
           var ix_to = childrens.index($to);
           if(ix_from > -1 && ix_to > -1 && ix_from != ix_to){
               if(direction == DIRECTION.VERTICAL){
                   var height = parseInt($wrapper.css('height'));
                   if(ix_from < ix_to){
                       top_from = 0; top_to = height;
                   } else {
                       top_from = height; top_to = 0;
                   }
                   $wrapper.css({'height': (2 * height) + 'px' ,'margin-top': '-' + top_from + 'px' });
                   $to.css({ 'height': height + 'px', 'float': 'none' });
                   $from.css({ 'height': height + 'px', 'float': 'none' });
                   function continueExecution(){
                       $to.show();
                       $wrapper.animate({ 'margin-top': '-' + top_to + 'px' }, 300, function () {
                           $from.hide();
                           $wrapper.css({ 'height': height + 'px' ,'margin-top': '0px' });
                       });
                   }
                   setTimeout(continueExecution, 10);
               } else {
                   var width = parseInt($wrapper.css('width'));
                   if(ix_from < ix_to){
                       left_from = 0; left_to = width;
                   } else {
                       left_from = width; left_to = 0;
                   }
                   $wrapper.css({'width': (2 * width) + 'px' ,'margin-left': '-' + left_from + 'px' });
                   $to.css({ 'width': width + 'px', 'float': 'left' });
                   $from.css({ 'width': width + 'px', 'float': 'left' });
                   function continueExecution(){
                       $to.show();
                       $wrapper.animate({ 'margin-left': '-' + left_to + 'px' }, 300, function () {
                           $from.hide();
                           $wrapper.css({ 'width': width + 'px' ,'margin-left': '0px' });
                           $(".scrollbar_cont").tinyscrollbar();
                       });
                   }
                   setTimeout(continueExecution, 10);
               }
               $from.removeClass("active");
               $to.addClass("active");
            }
        }
    }

    $.fn.slideTo = function(html) {
        $this = $(this);
        var data= "<div class='block'>" + html + "</div>";
        var width = parseInt($(this).css('width'));
        var transfer = $('<div class="transfer"></div>').css({ 'width': (2 * width) + 'px' });
        var current = $('<div class="current"></div>').css({ 'width': width + 'px', 'left': '0', 'float': 'left' }).html($(this).html());
        var next = $('<div class="next"></div>').css({ 'width': width + 'px', 'left': width + 'px', 'float': 'left' }).html(data);
        transfer.append(current).append(next);
        $(this).html('').append(transfer);
        transfer.animate({ 'margin-left': '-' + width + 'px' }, 1300, function () {
            $this.html(data);
        });
    }

    //]]>
</script>

</body>
</html>
